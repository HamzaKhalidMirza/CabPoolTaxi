<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-icon
        class="back"
        size="large"
        name="arrow-back-outline"
        (click)="goBack()"
      ></ion-icon>
    </ion-buttons>
    <ion-title>Account Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="accountSettingForm">
    <ion-grid class="ion-no-padding">
      <ion-row class="ion-margin-top">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <app-image-picker
            [photo]="[currentUser?.photoAvatar]"
            (imagePick)="onImagePicked($event)"
          ></app-image-picker>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">First Name</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-input
            type="text"
            style="width: 500px;"
            class="input"
            formControlName="fName"
          >
          </ion-input>
            <ion-icon
              slot="end"
              name="pencil"
              size="small"
              color="primary"
            ></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Sur name</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-input
            type="text"
            style="width: 500px;"
            class="input"
            formControlName="lName"
          ></ion-input>
            <ion-icon
              slot="end"
              name="pencil"
              size="small"
              color="primary"
            ></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Gender</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-select
              style="width: 300px; padding-left: 0;"
              class="ion-no-padding-left"
              placeholder="Select Gender"
              formControlName="gender"
            >
              <ion-select-option value="male">Male</ion-select-option>
              <ion-select-option value="female">Female</ion-select-option>
            </ion-select>
            <ion-icon
              slot="end"
              name="pencil"
              size="small"
              color="primary"
            ></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <ion-label position="floating">Select DOB</ion-label>
            <ion-datetime
              style="width: 500px;"
              class="ion-no-padding"
              formControlName="dob"
            ></ion-datetime>
            <ion-icon
              slot="end"
              name="pencil"
              size="small"
              color="primary"
            ></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Username</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <h2>{{currentUser?.username}}</h2>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Phone Number</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <h2>{{currentUser?.countryCode}}{{currentUser?.phone}}</h2>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Email</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <h2>{{currentUser?.email}}</h2>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item
            class="ion-margin"
            lines="none"
            color="danger"
            *ngIf="accountSettingForm.invalid"
          >
            Fill the details please.
          </ion-item>
          <ion-item
            class="ion-margin"
            lines="none"
            color="success"
            *ngIf="settingSavedSuccessful"
          >
            Settings Saved Successfully.
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row style="border: none;">
        <ion-col>
          <ion-button
            color="primary"
            expand="full"
            class="save ion-margin"
            type="submit"
            (click)="saveAccountSettings()"
          >
            Save Settings
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row class="password info">
        <ion-col size="12" size-sm="6" offset-sm="3">
          <p class="start-para">Password</p>
        </ion-col>
        <ion-col size="12" size-sm="6" offset-sm="3">
          <ion-item lines="none">
            <h2>Change Password</h2>
            <ion-icon
              slot="end"
              name="chevron-forward-outline"
              color="primary"
            ></ion-icon>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
